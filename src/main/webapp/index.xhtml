<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<script name="jquery/jquery.js" library="primefaces"></script>
	<title>Register Employee</title>
</h:head>
<h:form>
	<p:dataTable var="agent" value="#{personManage.activeSystemUsers}"
		widgetVar="agentsTable" emptyMessage="#{msg.no_user_found}"
		filteredValue="#{personManage.filteredAgents}">
		<f:facet name="header">
			<p:outputPanel>
			<p:inputText id="globalFilter"
					style="width:50%; text-align: center;"
					onkeyup="PF('agentsTable').filter()"
					placeholder="#{msg.google_search_agent}" />
			</p:outputPanel>
		</f:facet>
		<p:column headerText="#{msg.id}" filterBy="#{agent.idPerson}"
			filterMatchMode="contains">
			<h:form>
				<h:commandLink action="#{personManage.forwardToViewUser(agent)}"
					value="#{agent.idPerson}" />
			</h:form>
		</p:column>
		<p:column headerText="#{msg.fullname}" sortBy="#{agent.fullname}"
			filterBy="#{agent.fullname}" priority="3" filterMatchMode="contains">
			<h:outputText value="#{agent.fullname}" />
		</p:column>
		<p:column headerText="#{msg.primary_email}" priority="4">
			<h:outputText value="#{agent.primaryEmail}" />
		</p:column>
		<p:column headerText="#{msg.primary_phone}" priority="5">
			<h:outputText value="#{agent.primaryPhone}" />
		</p:column>
		<p:column headerText="#{msg.register_date}" priority="6">
			<h:outputText value="#{agent.createdDate}">
				<f:convertDateTime pattern="dd/MM/yyyy" />
			</h:outputText>
		</p:column>
		<p:column headerText="#{msg.role}" priority="7">
			<h:outputText value="#{agent.roles}" />
		</p:column>

	</p:dataTable>
</h:form>
</html>